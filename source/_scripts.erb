<script type="text/javascript">
function beginSend() {
  $('.form-control, .form-group').addClass('disabled');
  $('#form-message').slideDown();
}

function isSuccessful() {
  $('#form-area').slideUp();
  $('#success-message').fadeIn();
  $('#loading').fadeOut();
}

function isError(error) {
  $('#error-message').slideDown();
  $('#loading').fadeOut();
}

$(document).ready(function() {
  $('#form').on('submit', function(event) { 
    event.preventDefault();
    beginSend();

    var data = {
      from_name: $('input#from_name').val(),
      from_email: $('input#from_email').val(),
      message: $('textarea#message').val(),
      recaptcha: grecaptcha.getResponse(),
    };

    console.log(data);

    $.ajax({
      method: 'POST',
      url: 'https://1u6r47084e.execute-api.us-east-1.amazonaws.com/prod/sendPersonalWebsiteEmail',
      data: JSON.stringify(data),
      contentType: 'application/json',
      success: function(s) {
        isSuccessful();
      },
      error: function(e) {
        isError(e);
      }
    })
  });
});

  
</script>